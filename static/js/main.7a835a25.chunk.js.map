{"version":3,"sources":["LoadeObj.js","LoadeRoom.js","Room.js","index.js"],"names":["LoadeObj","scene","objName","scale","x","y","z","position","background","type","der","texture","THREE","load","lambert","color","map","objLoader","OBJLoader","GLTFLoader","routeY","Math","PI","setPath","obj","traverse","child","material","set","rotation","add","xhr","console","log","loaded","total","error","LoadeRoom","width","long","height","floor","wall1","side","wall2","wall3","wall4","Room","initScene","aspect","window","innerWidth","innerHeight","camera","lookAt","lights","renderer","antialias","setSize","setPixelRatio","devicePixelRatio","mountRef","appendChild","domElement","setUpControls","controls","PointerLockControls","document","body","addEventListener","buttonRef","style","opacity","pointerEvents","raycaster","objects","moves","moveForward","moveBackward","moveLeft","moveRight","prevTime","performance","now","velocity","direction","resizeWindowHandler","updateProjectionMatrix","animate","requestAnimationFrame","playerMovment","render","onKeyDown","event","keyCode","onKeyUp","isLocked","ray","origin","copy","getObject","onObject","intersectObjects","length","time","delta","Number","normalize","max","renderScene","this","lock","removeEventListener","className","ref","Component","App","rootElement","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.7a835a25.chunk.js","sourcesContent":["import * as THREE from \"three\";\r\nimport { MTLLoader, OBJLoader } from \"three-obj-mtl-loader\";\r\nimport { GLTFLoader } from \"three/examples/jsm/loaders/GLTFLoader.js\";\r\n\r\nconst LoadeObj = (\r\n  scene,\r\n  objName,\r\n  scale = {\r\n    x: 0.1,\r\n    y: 0.1,\r\n    z: 0.1,\r\n  },\r\n  position = {\r\n    x: 0,\r\n    y: 0,\r\n    z: 0,\r\n  },\r\n  background = null,\r\n  type = \"obj\",\r\n  der = \"front\"\r\n) => {\r\n  const texture = background\r\n    ? new THREE.TextureLoader().load(`/assets/${background}`)\r\n    : null;\r\n  const lambert = new THREE.MeshLambertMaterial({\r\n    color: 0xffffff,\r\n    map: texture,\r\n  });\r\n\r\n  const objLoader = type === \"obj\" ? new OBJLoader() : new GLTFLoader();\r\n  let routeY = -Math.PI / 2;\r\n  if (der !== \"front\") {\r\n    if (der !== \"back\")\r\n      der === \"left\" ? (routeY = Math.PI) : (routeY = -Math.PI);\r\n    else {\r\n      routeY = Math.PI / 2;\r\n    }\r\n  }\r\n  objLoader.setPath(\"./assets/\");\r\n  objLoader.load(\r\n    `${objName}.${type}`,\r\n    (obj) => {\r\n      obj.traverse((child) => {\r\n        if (child instanceof THREE.Mesh) {\r\n          child.material = lambert;\r\n        }\r\n        obj.scale.set(scale.x, scale.y, scale.z);\r\n        obj.rotation.y = routeY;\r\n        obj.position.set(position.x, position.y, position.z);\r\n      });\r\n      scene.add(obj);\r\n    },\r\n    (xhr) => {\r\n      //Download Progress\r\n      console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\r\n    },\r\n    (error) => {\r\n      //Error CallBack\r\n      console.log(\"An error happened\" + error);\r\n    }\r\n  );\r\n\r\n  //   mtlLoader.setBaseUrl(\"./assets/\");\r\n  //   mtlLoader.load(\"skydome.jpeg\", (materials) => {\r\n  //     materials.preload();\r\n  //     console.log(\"Material loaded\");\r\n  //     //Load Object Now and Set Material\r\n\r\n  //         const texture = new THREE.TextureLoader().load(\r\n  //           \"https://images.pexels.com/photos/1089438/pexels-photo-1089438.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260\",\r\n  //           (texture) => {\r\n  //             //Update Texture\r\n  //             // obj.material.map = texture;\r\n  //             // obj.material.needsUpdate = true;\r\n  //             console.log(texture);\r\n  //             return texture;\r\n  //           },\r\n  //   (xhr) => {\r\n  //     //Download Progress\r\n  //     console.log((xhr.loaded / xhr.total) * 100 + \"% loaded\");\r\n  //   },\r\n  //   (error) => {\r\n  //     //Error CallBack\r\n  //     console.log(\"An error happened\" + error);\r\n  //   }\r\n  // );\r\n};\r\n\r\nexport default LoadeObj;\r\n","import React, { Component } from \"react\";\r\nimport * as THREE from \"three\";\r\nimport { MTLLoader, OBJLoader } from \"three-obj-mtl-loader\";\r\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\r\n\r\nconst LoadeRoom = (scene, width = 150, long = 150, height = 150) => {\r\n  //make floor\r\n  const floor = new THREE.Mesh(\r\n    new THREE.PlaneGeometry(width, long, 10, 10),\r\n    new THREE.MeshStandardMaterial({\r\n      color: 0xffffff,\r\n    })\r\n  );\r\n  floor.rotation.x = -Math.PI / 2;\r\n\r\n  //make walls\r\n  // wall1\r\n  const wall1 = new THREE.Mesh(\r\n    new THREE.PlaneGeometry(width, height, 10, 10),\r\n    new THREE.MeshStandardMaterial({\r\n      color: \"red\",\r\n      side: THREE.DoubleSide,\r\n    })\r\n  );\r\n  wall1.rotation.x = 0;\r\n  wall1.position.set(0, height / 2, long / -2);\r\n\r\n  // wall2\r\n  const wall2 = new THREE.Mesh(\r\n    new THREE.PlaneGeometry(width, height, 10, 10),\r\n    new THREE.MeshStandardMaterial({\r\n      color: \"green\",\r\n      side: THREE.DoubleSide,\r\n    })\r\n  );\r\n  wall2.rotation.x = 0;\r\n  wall2.position.set(0, height / 2, long / 2);\r\n\r\n  // wall3\r\n  const wall3 = new THREE.Mesh(\r\n    new THREE.PlaneGeometry(width, height, 10, 10),\r\n    new THREE.MeshStandardMaterial({\r\n      color: \"blue\",\r\n      side: THREE.DoubleSide,\r\n    })\r\n  );\r\n  wall3.rotation.y = -Math.PI / 2;\r\n  wall3.position.set(width / 2, height / 2, 0);\r\n\r\n  // wall4\r\n  const wall4 = new THREE.Mesh(\r\n    new THREE.PlaneGeometry(width, height, 10, 10),\r\n    new THREE.MeshStandardMaterial({\r\n      color: \"pink\",\r\n      side: THREE.DoubleSide,\r\n    })\r\n  );\r\n  wall4.rotation.y = -Math.PI / 2;\r\n  wall4.position.set(width / -2, height / 2, 0);\r\n\r\n  scene.add(floor, wall1, wall2, wall3, wall4);\r\n\r\n  // -----Step 2--------\r\n  //LOAD TEXTURE and on completion apply it on SPHERE\r\n};\r\n\r\nexport default LoadeRoom;\r\n","import React, { Component } from \"react\";\nimport * as THREE from \"three\";\nimport { MTLLoader, OBJLoader } from \"three-obj-mtl-loader\";\n\nimport { PointerLockControls } from \"three/examples/jsm/controls/PointerLockControls.js\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport { FirstPersonControls } from \"three/examples/jsm/controls/FirstPersonControls.js\";\n\nimport LoadeObj from \"./LoadeObj\";\nimport LoadeRoom from \"./LoadeRoom\";\n// import PlayerMovment from \"./PlayerMovment\";\n\nclass Room extends Component {\n  componentDidMount() {\n    this.initScene();\n    this.setUpControls();\n\n    LoadeRoom(this.scene, 200, 200, 200);\n    LoadeObj(\n      this.scene,\n      \"bed\",\n      { x: 0.5, y: 0.35, z: 0.5 },\n      { x: 60, y: 0, z: 60 },\n      \"Preview Image.jpg\"\n    );\n    LoadeObj(\n      this.scene,\n      \"bed\",\n      { x: 0.5, y: 0.35, z: 0.5 },\n      { x: -30, y: 0, z: 60 },\n      \"Preview Image.jpg\"\n    );\n    LoadeObj(\n      this.scene,\n      \"table_drawers1\",\n      { x: 0.8, y: 0.8, z: 0.5 },\n      { x: 15, y: 0, z: 80 },\n      null,\n      \"obj\",\n      \"left\"\n    );\n    LoadeObj(\n      this.scene,\n      \"freedom\",\n      { x: 0.15, y: 0.1, z: 0.15 },\n      { x: 26, y: 23, z: 80 },\n      \"skydome.jpeg\",\n      \"obj\",\n      \"left\"\n    );\n    LoadeObj(\n      this.scene,\n      \"medicineBottle\",\n      { x: 2.25, y: 2.2, z: 2.25 },\n      { x: 15, y: 28, z: 80 },\n      null,\n      \"obj\",\n      \"left\"\n    );\n    LoadeObj(\n      this.scene,\n      \"door_low02\",\n      { x: 0.27, y: 0.27, z: 0.3 },\n      { x: -60, y: 0, z: -100 },\n      null,\n      \"obj\",\n      \"front\"\n    );\n    LoadeObj(\n      this.scene,\n      \"hospital_folding_table\",\n      { x: 0.7, y: 0.4, z: 0.35 },\n      { x: 0, y: 20, z: -80 },\n      \"skydome.jpeg\",\n      \"obj\",\n      \"left\"\n    );\n    LoadeObj(\n      this.scene,\n      \"sofa\",\n      { x: 0.8, y: 0.6, z: 0.7 },\n      { x: 80, y: 13, z: -60 },\n      \"skydome.jpeg\",\n      \"obj\",\n      \"front\"\n    );\n    LoadeObj(\n      this.scene,\n      \"skeletons\",\n      { x: 0.08, y: 0.08, z: 0.08 },\n      { x: 0, y: 10, z: 40 },\n      \"Preview Image.jpg\",\n      \"obj\",\n      \"left\"\n    );\n    LoadeObj(\n      this.scene,\n      \"Covid19\",\n      { x: 8, y: 8, z: 8 },\n      { x: 0, y: 120, z: 0 },\n      \"skydome.jpeg\",\n      \"obj\"\n    );\n    LoadeObj(\n      this.scene,\n      \"wheel-chair\",\n      { x: 1.45, y: 1, z: 1.45 },\n      { x: -70, y: 0, z: 80 },\n      null,\n      \"obj\",\n      \"back\"\n    );\n\n    this.buttonRef.addEventListener(\"click\", () => {\n      this.controls.lock();\n    });\n    document.addEventListener(\"keydown\", this.onKeyDown);\n    document.addEventListener(\"keyup\", this.onKeyUp);\n    window.addEventListener(\"resize\", this.resizeWindowHandler);\n    this.animate();\n  }\n\n  //Setting up the Scene\n\n  initScene = () => {\n    this.scene = new THREE.Scene();\n\n    //add Camera\n    const fov = 70;\n    const aspect = window.innerWidth / window.innerHeight;\n    const near = 1;\n    const far = 1000.0;\n    this.camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\n    this.camera.position.set(10, 40, -30);\n    this.camera.lookAt(0, 50, 150);\n\n    // this.camera.position.z = 9;\n\n    //LIGHTS\n    let lights = [];\n    lights[0] = new THREE.PointLight(0x304ffe, 1, 0);\n    lights[1] = new THREE.PointLight(0xffffff, 1, 0);\n    lights[2] = new THREE.PointLight(0xffffff, 1, 0);\n    lights[0].position.set(0, 200, 0);\n    lights[1].position.set(100, 200, 100);\n    lights[2].position.set(-100, -200, -100);\n    this.scene.add(lights[0]);\n    this.scene.add(lights[1]);\n    this.scene.add(lights[2]);\n\n    //Add Renderer\n    // const width = this.mount.clientWidth;\n    // const height = this.mount.clientHeight;\n\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    // this.renderer.setClearColor(\"#263238\");\n\n    // this.renderer = new THREE.WebGLRenderer();\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.renderer.setPixelRatio(window.devicePixelRatio);\n    this.mountRef.appendChild(this.renderer.domElement);\n  };\n\n  //Setting Up First Person Controls\n  setUpControls = () => {\n    this.controls = new PointerLockControls(this.camera, document.body);\n    this.controls.addEventListener(\"lock\", () => {\n      this.buttonRef.style.opacity = \"0\";\n      this.buttonRef.style.pointerEvents = \"none\";\n    });\n    this.controls.addEventListener(\"unlock\", () => {\n      this.buttonRef.style.opacity = \"1\";\n      this.buttonRef.style.pointerEvents = \"all\";\n    });\n\n    //Helper for Key Camera Movements\n    this.raycaster = new THREE.Raycaster(\n      new THREE.Vector3(),\n      new THREE.Vector3(0, -1, 0),\n      0,\n      10\n    );\n    this.objects = [];\n    this.moves = {\n      moveForward: false,\n      moveBackward: false,\n      moveLeft: false,\n      moveRight: false,\n    };\n    // this.moveForward = false;\n    // this.moveBackward = false;\n    // this.moveLeft = false;\n    // this.moveRight = false;\n    this.prevTime = performance.now();\n    this.velocity = new THREE.Vector3();\n    this.direction = new THREE.Vector3();\n  };\n\n  resizeWindowHandler = () => {\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.camera.aspect = window.innerWidth / window.innerHeight;\n    this.camera.updateProjectionMatrix();\n  };\n\n  //Adding the Per Frame Rendering\n  animate = () => {\n    requestAnimationFrame(this.animate);\n    // PlayerMovment(this.controls, this.raycaster, this.moves, this.prevTime);\n    this.playerMovment();\n    this.renderer.render(this.scene, this.camera);\n  };\n\n  onKeyDown = (event) => {\n    switch (event.keyCode) {\n      case 38: // up\n      case 87: // w\n        this.moves.moveForward = true;\n\n        break;\n\n      case 37: // left\n      case 65: // a\n        this.moves.moveLeft = true;\n        break;\n\n      case 40: // down\n      case 83: // s\n        this.moves.moveBackward = true;\n        break;\n\n      case 39: // right\n      case 68: // d\n        this.moves.moveRight = true;\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  onKeyUp = (event) => {\n    switch (event.keyCode) {\n      case 38: // up\n      case 87: // w\n        this.moves.moveForward = false;\n        break;\n\n      case 37: // left\n      case 65: // a\n        this.moves.moveLeft = false;\n        break;\n\n      case 40: // down\n      case 83: // s\n        this.moves.moveBackward = false;\n        break;\n\n      case 39: // right\n      case 68: // d\n        this.moves.moveRight = false;\n        break;\n\n      default:\n        return;\n    }\n  };\n\n  raycaster = new THREE.Raycaster(\n    new THREE.Vector3(),\n    new THREE.Vector3(0, -1, 0),\n    0,\n    10\n  );\n\n  playerMovment = () => {\n    if (this.controls.isLocked === true) {\n      this.raycaster.ray.origin.copy(this.controls.getObject().position);\n      // this.raycaster.ray.origin.y -= 10;\n\n      var intersections = this.raycaster.intersectObjects(this.objects, true);\n      var onObject = intersections.length > 0;\n\n      let time = performance.now();\n      let delta = (time - this.prevTime) / 1000;\n\n      this.velocity.x -= this.velocity.x * 10.0 * delta;\n      this.velocity.z -= this.velocity.z * 10.0 * delta;\n      this.velocity.y -= 9.8 * 100 * delta;\n\n      this.direction.z =\n        Number(this.moves.moveForward) - Number(this.moves.moveBackward);\n      this.direction.x =\n        Number(this.moves.moveRight) - Number(this.moves.moveLeft);\n      this.direction.normalize();\n\n      if (onObject === true) {\n        this.velocity.y = Math.max(0, this.velocity.y);\n      }\n\n      if (this.moves.moveForward || this.moves.moveBackward)\n        this.velocity.z -= this.direction.z * 150.0 * delta;\n\n      if (this.moves.moveLeft || this.moves.moveRight)\n        this.velocity.x -= this.direction.x * 150.0 * delta;\n\n      //To Stop Controls from moving out in Z direction\n      if (this.controls.getObject().position.z > 25) {\n        this.controls.getObject().position.z = 25;\n      } else if (this.controls.getObject().position.z < -24) {\n        this.controls.getObject().position.z = -24;\n      }\n\n      // To stop controls from moving out in X direction\n      if (this.controls.getObject().position.x > 25) {\n        this.controls.getObject().position.x = 25;\n      } else if (this.controls.getObject().position.x < -25) {\n        this.controls.getObject().position.x = -25;\n      }\n\n      this.controls.moveForward(-this.velocity.z * delta);\n      this.controls.moveRight(-this.velocity.x * delta);\n      // this.controls.getObject().position.y += this.velocity.y * delta;\n\n      if (this.controls.getObject().position.y < 10) {\n        this.velocity.y = 0;\n        // this.controls.getObject().position.y = 0;\n      }\n\n      this.prevTime = time;\n    }\n  };\n\n  //Cleaning up\n  componentWillMount() {\n    window.removeEventListener(\"resize\", this.resizeWindowHandler);\n    document.removeEventListener(\"keydown\", this.onKeyDown);\n    document.removeEventListener(\"keyup\", this.onKeyUp);\n  }\n\n  renderScene = () => {\n    if (this.renderer) this.renderer.render(this.scene, this.camera);\n  };\n\n  render() {\n    return (\n      <>\n        <button\n          className=\"btn\"\n          type=\"button\"\n          ref={(ref) => (this.buttonRef = ref)}\n        >\n          Start The Game\n        </button>\n        <div\n          style={{ width: \"100vw\", height: \"100vh\" }}\n          ref={(ref) => (this.mountRef = ref)}\n        ></div>\n      </>\n    );\n  }\n}\nexport default Room;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Room from \"./Room\";\n\nimport \"./styles.css\";\n\nfunction App() {\n  return (\n    <>\n      <Room />\n    </>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}