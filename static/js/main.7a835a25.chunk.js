(this["webpackJsonpreact-threejs-first-demo"]=this["webpackJsonpreact-threejs-first-demo"]||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var o=n(6),r=n.n(o),i=n(12),a=n.n(i),s=n(0),c=n(4),l=n(2),d=n(3),m=n(1),v=n(9),y=n(14),h=n(13),w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:.1,y:.1,z:.1},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0,z:0},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"obj",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"front",s=r?(new m.TextureLoader).load("/assets/".concat(r)):null,c=new m.MeshLambertMaterial({color:16777215,map:s}),l="obj"===i?new v.OBJLoader:new h.a,d=-Math.PI/2;"front"!==a&&(d="back"!==a?"left"===a?Math.PI:-Math.PI:Math.PI/2),l.setPath("./assets/"),l.load("".concat(t,".").concat(i),(function(t){t.traverse((function(e){e instanceof m.Mesh&&(e.material=c),t.scale.set(n.x,n.y,n.z),t.rotation.y=d,t.position.set(o.x,o.y,o.z)})),e.add(t)}),(function(e){console.log(e.loaded/e.total*100+"% loaded")}),(function(e){console.log("An error happened"+e)}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:150,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:150,r=new m.Mesh(new m.PlaneGeometry(t,n,10,10),new m.MeshStandardMaterial({color:16777215}));r.rotation.x=-Math.PI/2;var i=new m.Mesh(new m.PlaneGeometry(t,o,10,10),new m.MeshStandardMaterial({color:"red",side:m.DoubleSide}));i.rotation.x=0,i.position.set(0,o/2,n/-2);var a=new m.Mesh(new m.PlaneGeometry(t,o,10,10),new m.MeshStandardMaterial({color:"green",side:m.DoubleSide}));a.rotation.x=0,a.position.set(0,o/2,n/2);var s=new m.Mesh(new m.PlaneGeometry(t,o,10,10),new m.MeshStandardMaterial({color:"blue",side:m.DoubleSide}));s.rotation.y=-Math.PI/2,s.position.set(t/2,o/2,0);var c=new m.Mesh(new m.PlaneGeometry(t,o,10,10),new m.MeshStandardMaterial({color:"pink",side:m.DoubleSide}));c.rotation.y=-Math.PI/2,c.position.set(t/-2,o/2,0),e.add(r,i,a,s,c)},p=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).initScene=function(){e.scene=new m.Scene;var t=window.innerWidth/window.innerHeight;e.camera=new m.PerspectiveCamera(70,t,1,1e3),e.camera.position.set(10,40,-30),e.camera.lookAt(0,50,150);var n=[];n[0]=new m.PointLight(3166206,1,0),n[1]=new m.PointLight(16777215,1,0),n[2]=new m.PointLight(16777215,1,0),n[0].position.set(0,200,0),n[1].position.set(100,200,100),n[2].position.set(-100,-200,-100),e.scene.add(n[0]),e.scene.add(n[1]),e.scene.add(n[2]),e.renderer=new m.WebGLRenderer({antialias:!0}),e.renderer.setSize(window.innerWidth,window.innerHeight),e.renderer.setPixelRatio(window.devicePixelRatio),e.mountRef.appendChild(e.renderer.domElement)},e.setUpControls=function(){e.controls=new y.a(e.camera,document.body),e.controls.addEventListener("lock",(function(){e.buttonRef.style.opacity="0",e.buttonRef.style.pointerEvents="none"})),e.controls.addEventListener("unlock",(function(){e.buttonRef.style.opacity="1",e.buttonRef.style.pointerEvents="all"})),e.raycaster=new m.Raycaster(new m.Vector3,new m.Vector3(0,-1,0),0,10),e.objects=[],e.moves={moveForward:!1,moveBackward:!1,moveLeft:!1,moveRight:!1},e.prevTime=performance.now(),e.velocity=new m.Vector3,e.direction=new m.Vector3},e.resizeWindowHandler=function(){e.renderer.setSize(window.innerWidth,window.innerHeight),e.camera.aspect=window.innerWidth/window.innerHeight,e.camera.updateProjectionMatrix()},e.animate=function(){requestAnimationFrame(e.animate),e.playerMovment(),e.renderer.render(e.scene,e.camera)},e.onKeyDown=function(t){switch(t.keyCode){case 38:case 87:e.moves.moveForward=!0;break;case 37:case 65:e.moves.moveLeft=!0;break;case 40:case 83:e.moves.moveBackward=!0;break;case 39:case 68:e.moves.moveRight=!0;break;default:return}},e.onKeyUp=function(t){switch(t.keyCode){case 38:case 87:e.moves.moveForward=!1;break;case 37:case 65:e.moves.moveLeft=!1;break;case 40:case 83:e.moves.moveBackward=!1;break;case 39:case 68:e.moves.moveRight=!1;break;default:return}},e.raycaster=new m.Raycaster(new m.Vector3,new m.Vector3(0,-1,0),0,10),e.playerMovment=function(){if(!0===e.controls.isLocked){e.raycaster.ray.origin.copy(e.controls.getObject().position);var t=e.raycaster.intersectObjects(e.objects,!0).length>0,n=performance.now(),o=(n-e.prevTime)/1e3;e.velocity.x-=10*e.velocity.x*o,e.velocity.z-=10*e.velocity.z*o,e.velocity.y-=9.8*100*o,e.direction.z=Number(e.moves.moveForward)-Number(e.moves.moveBackward),e.direction.x=Number(e.moves.moveRight)-Number(e.moves.moveLeft),e.direction.normalize(),!0===t&&(e.velocity.y=Math.max(0,e.velocity.y)),(e.moves.moveForward||e.moves.moveBackward)&&(e.velocity.z-=150*e.direction.z*o),(e.moves.moveLeft||e.moves.moveRight)&&(e.velocity.x-=150*e.direction.x*o),e.controls.getObject().position.z>25?e.controls.getObject().position.z=25:e.controls.getObject().position.z<-24&&(e.controls.getObject().position.z=-24),e.controls.getObject().position.x>25?e.controls.getObject().position.x=25:e.controls.getObject().position.x<-25&&(e.controls.getObject().position.x=-25),e.controls.moveForward(-e.velocity.z*o),e.controls.moveRight(-e.velocity.x*o),e.controls.getObject().position.y<10&&(e.velocity.y=0),e.prevTime=n}},e.renderScene=function(){e.renderer&&e.renderer.render(e.scene,e.camera)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.initScene(),this.setUpControls(),u(this.scene,200,200,200),w(this.scene,"bed",{x:.5,y:.35,z:.5},{x:60,y:0,z:60},"Preview Image.jpg"),w(this.scene,"bed",{x:.5,y:.35,z:.5},{x:-30,y:0,z:60},"Preview Image.jpg"),w(this.scene,"table_drawers1",{x:.8,y:.8,z:.5},{x:15,y:0,z:80},null,"obj","left"),w(this.scene,"freedom",{x:.15,y:.1,z:.15},{x:26,y:23,z:80},"skydome.jpeg","obj","left"),w(this.scene,"medicineBottle",{x:2.25,y:2.2,z:2.25},{x:15,y:28,z:80},null,"obj","left"),w(this.scene,"door_low02",{x:.27,y:.27,z:.3},{x:-60,y:0,z:-100},null,"obj","front"),w(this.scene,"hospital_folding_table",{x:.7,y:.4,z:.35},{x:0,y:20,z:-80},"skydome.jpeg","obj","left"),w(this.scene,"sofa",{x:.8,y:.6,z:.7},{x:80,y:13,z:-60},"skydome.jpeg","obj","front"),w(this.scene,"skeletons",{x:.08,y:.08,z:.08},{x:0,y:10,z:40},"Preview Image.jpg","obj","left"),w(this.scene,"Covid19",{x:8,y:8,z:8},{x:0,y:120,z:0},"skydome.jpeg","obj"),w(this.scene,"wheel-chair",{x:1.45,y:1,z:1.45},{x:-70,y:0,z:80},null,"obj","back"),this.buttonRef.addEventListener("click",(function(){e.controls.lock()})),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),window.addEventListener("resize",this.resizeWindowHandler),this.animate()}},{key:"componentWillMount",value:function(){window.removeEventListener("resize",this.resizeWindowHandler),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn",type:"button",ref:function(t){return e.buttonRef=t}},"Start The Game"),r.a.createElement("div",{style:{width:"100vw",height:"100vh"},ref:function(t){return e.mountRef=t}}))}}]),n}(o.Component);n(21);function b(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null))}var f=document.getElementById("root");a.a.render(r.a.createElement(b,null),f)}},[[22,1,2]]]);
//# sourceMappingURL=main.7a835a25.chunk.js.map